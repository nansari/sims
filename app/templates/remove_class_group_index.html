{% extends "base.html" %}

{% block content %}
    <h1>Remove Class Group Index</h1>
    <form method="POST" action="{{ url_for('remove_class_group_index') }}" onsubmit="return confirm('Are you sure you want to delete the selected class group indexes?');">
        <table class="table">
            <thead>
                <tr>
                    <th><input type="checkbox" id="select-all"></th>
                    <th>Class Name</th>
                    <th>Batch No</th>
                    <th>Class Region</th>
                    <th>Description</th>
                    <th>Start Index</th>
                    <th>End Index</th>
                </tr>
            </thead>
            <tbody>
                {% for index in indexes %}
                <tr>
                    <td><input type="checkbox" name="index_ids" value="{{ index.id }}"></td>
                    <td>{{ index.class_region.class_name.name }}</td>
                    <td>{{ index.class_region.class_batch.batch_no }}</td>
                    <td>{{ index.class_region.section }}</td>
                    <td>{{ index.description }}</td>
                    <td>{{ index.start_index }}</td>
                    <td>{{ index.end_index }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <button type="submit" class="btn btn-danger">Delete Selected</button>
    </form>
{% endblock %}

{% block custom_scripts %}
<script>
    document.getElementById('select-all').onclick = function() {
        var checkboxes = document.getElementsByName('index_ids');
        for (var checkbox of checkboxes) {
            checkbox.checked = this.checked;
        }
    }
</script>
{% endblock %}
